%-----------------------------------------------------------------------------
%
%               Template for sigplanconf LaTeX Class
%
% Name:         sigplanconf-template.tex
%
% Purpose:      A template for sigplanconf.cls, which is a LaTeX 2e class
%               file for SIGPLAN conference proceedings.
%
% Guide:        Refer to "Author's Guide to the ACM SIGPLAN Class,"
%               sigplanconf-guide.pdf
%
% Author:       Paul C. Anagnostopoulos
%               Windfall Software
%               978 371-2316
%               paul@windfall.com
%
% Created:      15 February 2005
%
%-----------------------------------------------------------------------------


%\documentclass[preprint]{sigplanconf}
\documentclass[10pt]{sigplanconf}

% The following \documentclass options may be useful:
%
% 10pt          To set in 10-point type instead of 9-point.
% 11pt          To set in 11-point type instead of 9-point.
% authoryear    To obtain author/year citation style instead of numeric.

\usepackage{yfonts}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
%\usepackage{mathpartir}
\usepackage[colorlinks=true,
citecolor=citec,
linkcolor=linkc,
urlcolor=urlc,
]{hyperref}
\usepackage{url}
\usepackage{graphics}
\usepackage{graphicx}
\usepackage{wasysym}
\usepackage{harmony}
\usepackage{marvosym}
\usepackage{multirow}
\usepackage{xspace}
\usepackage[nameinlink,nosort]{cleveref}
\usepackage{xeCJK}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage[utopia]{mathdesign}
\usepackage{natbib}
\usepackage{ulem}
\usepackage[mathcal]{euscript}
\usepackage[linesnumbered,ruled]{algorithm2e}

\renewcommand{\UrlBreaks}{\do\/\do\a\do\b\do\c\do\d\do\e\do\f\do\g\do\h\do\i\do\j\do\k\do\l\do\m\do\n\do\o\do\p\do\q\do\r\do\s\do\t\do\u\do\v\do\w\do\x\do\y\do\z}


% ____________________________________________________________
% Listings Package Configuration
% \usepackage[scaled]{beramono}

%\renewcommand*\ttdefault{txtt}
\usepackage[T1]{fontenc}

\definecolor{citec}{RGB}{128,0,64}
\definecolor{linkc}{RGB}{0,64,128}
\definecolor{urlc} {RGB}{128,64,0}

\setCJKmainfont{HeiseiMinStd-W5}[Path = ./]
\setmonofont{Inconsolata-Regular}[Path = ./]
% This Deep Tex Voodoo is from
%   <http://www.latex-community.org/forum/viewtopic.php?f=5&t=2072>
% It's purpose is to make \lstinline normal size, without affecting
% \lstinputlisting.  It seems to work but I have no idea how or why,
% and I rather hope never to learn.
%\makeatletter
%\lst@AddToHook{TextStyle}{\let\lst@basicstyle\ttfamily\normalsize}
%\makeatother

\begin{document}

\conferenceinfo{SIGBOVIK '19}{Pittsburgh, PA, USA}
\copyrightyear{2019}
\copyrightdata{}

\titlebanner{banner above paper title}        % These are ignored unless
\preprintfooter{short description of paper}   % 'preprint' option specified.

\title{
Which ITG Stepcharts are Bracket-Jumpiest?: \\
In Which They Milk the \\
「A Boring Follow-Up Paper to \\
``Which ITG Stepcharts are Turniest?'' \\
Titled, ``Which ITG Stepcharts are Crossoveriest and/or Footswitchiest?''」\\
Series for All Its Worth in Publication Count After All, or: \\
%That `Boring' Stuff Was Part of the Title, BTW. \\
%So was that. And that, and this too. \\
%You got it all, right? \\
%Or Just, ``More Boring Crap about ITG'', for Short. \\
%Oh, That Was Also Part of the Title.
Hit Me With An Encore
}
% \subtitle{\em The Randomly-Scoped Lambda Calculus}
% \subtitle{Subtitle Text, if any}

\authorinfo{Ben Blum}{}{bblum@alumni.cmu.edu}

\maketitle

\begin{abstract}
	%ITG is a popular dance game in which players step on arrows while listening to music. The arrow patterns, indicated by a {\em stepchart}, may range among any level of complexity and difficulty. Among the many factors contributing to a stepchart's difficulty is how much the player must turn from side to side.
	%Other more obvious factors, such as raw speed, have been well studied in prior work.
	%This paper presents an analytic study of this {\em turniness} factor.
	%We study the turniness of many existing stepcharts, and present a novel (but unsurprising) approach to automatically generating maximally (or minimally) turny charts.
	%Among real-world songs, we find stepcharts with overall turniness ranging from 0\% to 81.33\% of the theoretical maximum.

In which I break last last year's promise of no future work.

\end{abstract}

\category{D.D.R.}{Exercise and Fitness}{Arcade Dance Games}

\keywords
bracket, groove, in, jumps, the


\section{Introduction}

Recent work by \cite{dril}
%[W. Dril et al., 2019]
proposed the hypothesis that
recent stepchart authors have grown bored with the array of technical ITG step patterns
documented to date \cite{turniness,crossoveriness},
and have moved on to break the old model's one-foot-per-arrow assumption to allow for even more technical patterns yet.
I paraphrase their main conclusion as follows:

\begin{center}
	\includegraphics[width=0.38\textwidth]{using-my-turn.png}
\end{center}

\begin{figure}[t]
	\hspace{-2em}\includegraphics[angle=270,width=0.54\textwidth]{../2/paper.pdf}
	\caption{(yeah i reused this joke from last time ok deal)}
	\label{fig:you-stutid-fuckass}
\end{figure}

All good researchers know that when rise the standards for software or hardware performance
(or stepchart trickiness, as the case may be),
they must revisit their own work to prove its ongoing relevance to the research (dance) community at large.
Thus I must regrettably break the promise \sout{I} the authors set forth in \cite{crossoveriness}
(see \Cref{fig:you-stutid-fuckass})
and revisit \sout{my} their old future work section
(XXX: they said to change any first-person ``our prior work''
stuff like this for double-blind review but like cmon this makes no sense?
theyll totally see through this
(TODO: maybe email the PC chair for advice?
(FIXME: make sure to remove these comments before the camera-ready deadline!!))),
extending it to handle these new so-called ``bracket'' jumps.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Overview}

% TODO: go through this paper and make every *other* instance of "bracket-jump" hyphenated

What, then, is a bracket jump (which I shall \textit{not}, henceforth, abbreviate for brevity)?
Put simply, whenever two arrow-shaped obstacles proceed simultaneously towards the protagonist directional indicator targets
(see \cite{turniness}),
while a novice player might think they must step with both feet at once, one for each arrow,
experts often find it more convenient (i.e., less overall foot motion) to use whichever single foot is closer at the time
to hit both arrows by
triggering one arrow's sensor with the heel and the other with the little bitty toesies.
Pads are typically constructed with a small triangular metal bracket at the corner of each arrow panel,
as shown in \Cref{fig:bracker-detail},
which the bridge of the foot must cross to achieve this, hence the name ``bracket jump''.
In case my prose explanation is not up to snuff, I also show in \Cref{fig:how-2-bracket}
a high-quality graphics render of a player's typical foot positions during a down+right bracket jump (henceforth ``DR'', et cetera).

The reader, or stepper,
may notice the extreme angle of footing depicted in the latter figure,
which is necessary to reliably trigger both pad sensors.
Accordingly, this maneuver is comfortable (and hence preferable to a normal jump)
only if the player is already facing in roughly the same direction \cite{turniness}.
%after stepping any preceding patterns.
Note also that the two ``candle jumps'', LR and DU, are not possible to bracket,
unless your foot size is (physically) beyond the scope of this work.
The next section will attempt to codify (ahem) when
preceding patterns encourage the player to bracket rather than jump,
and thereby identify how ``bracket jumpy'' each chart is.

\begin{figure}[t]
	\begin{center}
		\includegraphics[width=0.48\textwidth]{jims-pix.jpg}
	\end{center}
	\caption{Detail of metal corner brackets, this paper's namesake. Photo credit {\tt JIM}.}
	\label{fig:bracker-detail}
\end{figure}

\begin{figure}[h]
	\begin{center}
		\includegraphics[width=0.48\textwidth]{how-2-bracket.jpg}
	\end{center}
	\caption{Down+right bracket jump real-world example.}
	\label{fig:how-2-bracket}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Analyzing Bracket-Jumpiness}
\label{sec:analyzing}

I extended the crossoveriness et cetera algorithm from \cite{crossoveriness} to reason about jumps,
which previously it treated all identically,
ignoring the arrows involved and allowing the player to reset her footing as desired.
Now, it considers LD, LU, DR, and UR jumps as potentially bracketable,
allowing the player to continue a stream of alternating feet uninterrupted through.

\textit{Confession.}
When I was first brainstorming this project,
I had some grand visions of unifying the turniness algorithm \cite{turniness}---which
accounts for U/D steps to figure out how far the player must turn each step,
but has no idea which way the player is actually facing at any given time---with
the crossoveriness one
(cited just above; cmon how much do you want me to repeat these, gimme a break)---which
totally ignores U/D steps and just figures out which arrows the left and right feet must each step---in
some theoretically beautiful way to produce the unquestionably perfect footing sequence for each jump.
%
However, as I was considering how to incorporate features from last time's algorithm,
potentially allowing crossover brackets (\Cref{sec:xover-brackers})
and footswitch brackets (\Cref{sec:fs-brackers}),
I realized that ultimately there would be no restrictions on what jumps were bracketable;
the algorithm would oops simply twist and turn as much as necessary to bracket everything,
and this paper would become ``Which ITG Stepcharts Have the Most Jumps?'', and like who wants to read that.

One may think to simply try either bracketing each jump or not
and seeing what combination gives the minimum turniness result,
but since whether to bracket each jump or not affects subsequent steps' footing,
each choice cannot in general be solved independently,
and I hope you can see where this is going.
Now, the last time I tried to solve an exponentially-sized problem, it took me 7 years
\cite{landslide-thesis}
(and I still ended up with a pile of heuristics after all anyway),
so considering I started this project a week before the deadline,
I instead to just code up a bunch of ad-hoc rules to handle all the different bracket jump patterns
that occurred to me to write test cases for.

As before, the code is available at \url{https://github.com/bblum/sigbovik/blob/master/itg/code/ITG.hs}.
To give an idea of how much its elegance has been despoiled % hi william
since the last version:
% TODO: figure out these numbers without counting comments
98 lines of Haskell (which computed crossovers, footswitches, jacks, doublesteps, \textit{and} crossover footswitches)
has grown to 248 lines (just to handle this one. new. feature),
and the once-simple datatype definition of

\newcommand\hilight[2]{\color{#1}#2\color{black}\xspace}
\definecolor{pink}{RGB}{128,0,192}
\definecolor{orange}{RGB}{192,96,0}
\definecolor{olivegreen}{RGB}{0,127,32}
\definecolor{brickred}{RGB}{192,0,0}
\definecolor{commentblue}{RGB}{0,128,192}

\begin{center}
	\texttt{\hilight{orange}{data}~\hilight{olivegreen}{Step} =
	\hilight{brickred}{L} |
	\hilight{brickred}{D} |
	\hilight{brickred}{U} |
	\hilight{brickred}{R} |
	\hilight{brickred}{Jump}}
\end{center}

has become:

\vspace{-1em} % dont know why this is necessary
\begin{center}
	\begin{tabular}{l}
	\texttt{\hilight{orange}{data}~\hilight{olivegreen}{Arrow} =
	\hilight{brickred}{L} |
	\hilight{brickred}{D} |
	\hilight{brickred}{U} |
	\hilight{brickred}{R}} \\
	\texttt{\hilight{orange}{data}~\hilight{olivegreen}{Jump} =
	\hilight{brickred}{LD} |
	\hilight{brickred}{LU} |
	\hilight{brickred}{DR} |
	\hilight{brickred}{UR} |
	\hilight{brickred}{LR} |
	\hilight{brickred}{DU} |
	\hilight{brickred}{Other}} \\
	\texttt{\hilight{orange}{data}~\hilight{olivegreen}{Step} =
	\hilight{brickred}{A} \hilight{olivegreen}{Arrow} |
	\hilight{brickred}{J} \hilight{olivegreen}{Jump}} \\
	\texttt{\hilight{orange}{data}~\hilight{olivegreen}{Foot} =
	\hilight{brickred}{LeftFoot} |
	\hilight{brickred}{RightFoot}} \\
	\end{tabular}
\end{center}

In lieu of an algorithm listing, I'll simply show some of those most notable test cases in pictures and explain in prose how I handle them.


\subsection{Basic Examples}

Figure \Cref{fig:bracket-example}(a) shows a simple example where every jump (blue)
can be bracketed by the right foot,
alternating with 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Evaluation}

The experimental corpus has grown even more since last time, now comprising 17253 stepcharts from 181 packs.
Of note, all three Technical Showcase packs
(collaborative community packs where all authors were encouraged to submit their freshest beats and judged on complexity)
were released in the last two years,
which have proved to be important sources of diverse bracket-jump patterns for this research.
I would also have liked to re-rank the crossoveriest and footswitchiest charts from last time to include these submissions,
but I frankly don't have time.
The results spreadsheet of bracket jump counts
(as well as more crossovers et cetera for packs released since last time)
is available for your browsing pleasure at
\url{https://tinyurl.com/bracketiest}.

I pose two evaluation questions, to be answered in the following subsections respectively.
\begin{enumerate}
	\item Which songs, packs, and/or step-cartographers are bracket jumpiest?
	\item Is bracket jumps the new crossovers or something?
\end{enumerate}

\subsection{Bracket Jumpiness}

% TODO: define BJJ% and BJS%

\subsection{Historical Trends}

% TODO: be like, we set out to prove that ppl are using bracker jumps more often lately

% temporal analysis of pack age vs bracker density

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Discussion}

Many old charts written without regard to jump patterning allow for many of their jumps to be bracketed anyway.
I noticed an old stepchart for One-Winged Angel \cite{owa} ranking high in the list of overall total bracket jumps,
with 182,
simply because it's long and has a lot of steps,
but upon playing, the patterns definitely do not feel intentional,
and it even includes a section of stream with wholly unbracketable jumps interspersed.
\Cref{fig:discussion}(a) shows this section;
in this stream, the player would expect to step the red and blue arrows with her right foot and the lime ones with her left,
but note how the jumps (hint: all in blue)
occur as a mix of left and right arrows, with even a UD ``candle'' jump making an appearance.
However, it measures an unremarkable 9 BJS\% and 38 BJJ\%---I just wanted to feature it
as an example of what non-bracketable jump stream looks like.

Authors seem to realize when their charts are too bracket jumpy for comfort:
several of the charts appearing in the highest ranks of the spreadsheet had their step author field filled in as ``Stupid'' or ``I'm sorry''.
In fact, I personally found the charts with 100 BJJ\%, i.e., \textit{all} jumps appearing therein were bracketable,
to be more tasteful than those with more total BJS\% but a few normal jumps as well.
I'd hypothesize this is because to achieve 100 BJJ\% requires a certain intentionality,
resulting in better chart design overall
(note that such charts necessarily include no LR or DU jumps whatsoever).
Either that, or the more uncomfortable ones include certain extremely turny/candley/doublesteppy patterns
around their brackets that causes the algorithm to count them as normal jumps instead.
Anyway, \Cref{fig:discussion}(b) shows the chart with most bracket jumps (35) among ones with 100 BJJ\%,
which I tried out for myself and found quite enjoyable \cite{e-paradise}.
Amusingly, Encore \cite{encore}
features a Hard chart in addition to its Challenge,
which former ranks second place to Electrical Paradise among 100 BJJ\%s with 29 brackets.
Upon inspection, I found this chart identical to the Challenge (shown in \Cref{fig:xb}(a)),
only the crossover brackets
(to be discussed later in \Cref{sec:xover-brackers})
had been replaced by easier, normal ones.

\begin{figure}[t]
	\begin{center}
	\begin{tabular}{cc}
	\begin{tabular}{c}
		\includegraphics[width=0.16\textwidth]{disco-owa.png}
		\\
		(a) One-Winged Angel, \\ 14 \cite{owa} %\\
		%(10, Tech. Showcase 3)
	\end{tabular}
		&
	\begin{tabular}{c}
		\includegraphics[width=0.16\textwidth]{disco-paradise.png}
		\\
		(b) Electrical Paradise, \\ 12 \cite{e-paradise} %\\
		%(12, Tech. Showcase 1)
	\end{tabular}
	\end{tabular}
	\end{center}
	%\caption{Why I gotta write a overall caption, just read the prose on this one.}
	\caption{Example charts with
	(a) ``retro'' style jump-stream which, largely, cannot be bracketed,
	and
	(b) very intentionally many bracket jumps.}
	\label{fig:discussion}
\end{figure}

\section{Never Work}

The only thing that impresses the research community more than overdelivering on your future work promises
is to overdeliver twice; hence, I shamelessly reuse the joke of this section name from last time.

\subsection{Crossover Brackets}
\label{sec:xover-brackers}

Whereas with normal crossovers (e.g., in the sequence L-U-R, stepping the R with the left foot),
the player's foot can pretty much point whichever way she finds most comfortable;
however,
crossover brackets (e.g., in the sequence L-U-DR...),
the player's foot must point backwards (...stepping the DR's R with her left heel and D with toes),
inducing extra turniness.%
\footnote{The other way, e.g. stepping the D with the left heel and R with toes, while your right foot is fixed on U, is extremely uncomfortable at speed. Trust me on this one.}
Such jumps could instead just be stepped with both feet as normal,
possibly inducing doublesteps or jacks,
and indeed that is how the algorithm presently handles them.

However, ambitious stepchart authors have recently experimented with encouraging the player to bracket jumps while crossed-over.
Such charts attempt to force, or at least hint, these jumps to be bracketed
via additional stepchart elements: in \Cref{fig:xb}(a), mines on the left arrow force the player to remove her left foot in preparation for the crossover (and being in the middle of fast stream, further discourages doublestepping),
and in \Cref{fig:xb}(b), extending one of the arrows as a hold encourages the player to bracket the subsequent jump with the other foot.
In (b)'s case, the player must also switch feet on each of the non-hold arrows,
effectively making these crossover-footswitch-brackets,
which would truly be a wonder to identify programmatically.
% these can be cheated anyway

\begin{figure}[t]
	\begin{center}
	\begin{tabular}{cc}
	\begin{tabular}{c}
		\includegraphics[width=0.16\textwidth]{xb-encore.png}
		\\
		(a) Encore, 12 \\ \cite{encore} %\\
		%(12, Tech. Showcase 1)
	\end{tabular}
		&
	\begin{tabular}{c}
		\includegraphics[width=0.16\textwidth]{xb-atariwave.png}
		\\
		(a) Atariwave, 10 \\ \cite{atariwave} %\\
		%(10, Tech. Showcase 3)
	\end{tabular}
	\end{tabular}
	\end{center}
	\caption{Crossover bracket jumps must be signaled via either (a) mines or (b) holds to remove ambiguity.}
	\label{fig:xb}
\end{figure}

\subsection{Footswitch Brackets}
\label{sec:fs-brackers}

I put this section here only just so I could have something to forward-reference back in \Cref{sec:analyzing}.
I always wanted to do that, you know?
I mean, footswitch brackets are %also
a real thing, but still. $\bar{~~}$\textbackslash\_(ツ)\_/$\bar{~~}$
% not-to-to: put a pict anyway? if you find one
% actually, joke comes off better w/o

\subsection{UI}

It would be cool to integrate this (and the preceding two algorithms \cite{turniness,crossoveriness})
into
%Simply Love \cite{simplylove}, or whatever
the community's prevailing stepmania theme.
%may be in the future.
Currently, as shown in \Cref{fig:songpreview}(a),
the song preview screen wastes considerable space displaying the count of irrelevant chart aspects
such as mines (now used primarily for signaling the presence of footswitches)
and hands (now mostly stepped with the feet by bracketing anyways).
I bet the community might actually pay attention to my work---the holy grail of research, honestly---if
popular themes used it to show precisely how technical a chart was, as in (b).

\begin{figure}[t]
	\begin{tabular}{c}
	\includegraphics[width=0.46\textwidth]{song-info.png} \\
		(a) Current state-of-the-art.
		\\
		\\
	\includegraphics[width=0.46\textwidth]{song-info-better.png} \\
		(b) Artist's conception.
	\end{tabular}
	\caption{Song info preview panel for a recent bracket jump-heavy stepchart \cite{divine}.}
	\label{fig:songpreview}
\end{figure}

\subsection{Obligatory Machine Learning Section}

I guess you could skip all this fiddly ``algorithm'' stuff by
hopping on the pads yourself for a few rounds, playing a variety of technical charts,
and just training a neural network based on how you stepped the patterns.
It would probably even learn to fake crossovers more at the ends of songs than at the beginnings,
where you're more likely to be physically tired.
And like, do you really want that kind of bias in your dataset?

Remember kids, friends don't let friends use ML for problems that are more fun to solve by hand.

\section{Conclusion}

I never know what to put down here. Much love to the community..!


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\bibliographystyle{abbrvnat}
\bibliography{citations}

\end{document}
